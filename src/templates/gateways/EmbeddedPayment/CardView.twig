{#<pre>#}
{#	{#}
{#		countryCode: "{{ countryCode }}",#}
{#		sessionId: "{{ sessionId }}",#}
{#		cardViewId: "__myFatoorah-card-element"#}
{#	}#}
{#</pre>#}

{#{% js "" %}#}

{% js %}

function mfInit() {
	var config = {
		countryCode: "{{ countryCode }}",
			sessionId: "{{ sessionId }}",
			cardViewId: "__myFatoorah-card-element",
			onCardBinChanged: mfHandleBinChanges,
			// The following style is optional.
			style: {
				hideCardIcons: false,
				direction: "ltr",
				cardHeight: 420,
				input: {
					color: "black",
					fontSize: "13px",
					fontFamily: "sans-serif",
					inputHeight: "32px",
					inputMargin: "0px",
					borderColor: "c7c7c7",
					borderWidth: "1px",
					borderRadius: "8px",
					boxShadow: "",
					placeHolder: {
						holderName: "Name On Card",
						cardNumber: "Number",
						expiryDate: "MM / YY",
						securityCode: "CVV",
					}
				},
				label: {
					display: false,
					color: "black",
					fontSize: "13px",
					fontWeight: "normal",
					fontFamily: "sans-serif",
					text: {
						holderName: "Card Holder Name",
						cardNumber: "Card Number",
						expiryDate: "Expiry Date",
						securityCode: "Security Code",
					},
				},
				error: {
					borderColor: "red",
					borderRadius: "8px",
					boxShadow: "0px",
				},
			},
		};

		myFatoorah.init(config);
	}

	function mfSubmit() {
		return myFatoorah.submit()
			// On success
			.then(function (response) {
				// Here you need to pass session id to you backend here
				var sessionId = response.sessionId;
				var cardBrand = response.cardBrand;
				console.log("then", sessionId, cardBrand);
			})
			// In case of errors
			.catch(function (error) {
				console.log("catch", error);
			});
	}

	function mfHandleBinChanges(bin){
		console.log(bin);
	}

{% endjs %}


<div style="width:400px">
	<div id="__myFatoorah-card-element"></div>
</div>
